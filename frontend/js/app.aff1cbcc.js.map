{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////src/App.vue?d291","webpack:////src/components/LoginView.vue?6aea","webpack:///src/components/LoginView.vue","webpack:////src/components/LoginView.vue?2ff5","webpack:////src/components/LoginView.vue","webpack:///src/App.vue","webpack:////src/App.vue?7ec4","webpack:////src/App.vue","webpack:////src/components/MapView.vue?6e02","webpack:////src/utils/LeafletCustomTypes.js","webpack:////src/data/Marker.js","webpack:////src/data/UniqueList.js","webpack:////src/data/Character.js","webpack:///src/components/MapView.vue","webpack:////src/components/MapView.vue?7263","webpack:////src/components/MapView.vue","webpack:////src/router.js","webpack:////src/config.js","webpack:////src/main.js","webpack:////src/components/MapView.vue?b3d5"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","authToken","on","$event","staticRenderFns","staticClass","staticStyle","_v","directives","rawName","expression","domProps","target","composing","login","password","performAuth","component","ref","Array","isArray","showGridCoordinates","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","zoomOut","questGivers","model","callback","selectedMarker","players","zz","TileSize","HnHMaxZoom","HnHMinZoom","CustomGridLayer","L","GridLayer","extend","displayGridCoordinates","createTile","coords","element","document","createElement","width","height","classList","add","scaleFactor","Math","pow","z","topLeft","x","y","bottomRight","imageElement","style","display","id","appendChild","asyncImage","Image","onload","src","remove","onerror","getTileUrl","text","textElement","innerHTML","querySelectorAll","forEach","it","reloadTilesAround","gcList","gridsToReload","gc","tmp","values","getElementById","contains","ImageIcon","Icon","options","iconSize","iconAnchor","latNormalization","lngNormalization","HnHProjection","project","latlng","Point","lat","lng","unproject","point","LatLng","bounds","Bounds","HnHCRS","CRS","Simple","projection","detectType","substring","Marker","markerData","position","image","type","marker","map","removeLayer","icon","iconUrl","title","addTo","setLatLng","UniqueList","elements","dataList","addCallback","removeCallback","updateCallback","elementsToAdd","filter","undefined","elementsToRemove","keys","find","up","newElement","oldElement","Character","characterData","updated","Vue","use","Router","routes","path","MapView","MAP_ENDPOINT","API_ENDPOINT","TILE_ENDPOINT","zoom","config","productionTip","VueResource","router","render","h","App","$mount"],"mappings":"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","file":"js/app.aff1cbcc.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.authToken === false)?_c('LoginView',{on:{\"authenticated\":function($event){_vm.authToken = $event}}}):_c('router-view',{on:{\"error\":function($event){_vm.authToken = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-content-center align-items-center container\",staticStyle:{\"height\":\"80vh\"}},[_c('div',{staticClass:\"col-md-6 align-self-center\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\"Enter Login and Password\")]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.login),expression:\"login\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"login\",\"placeholder\":\"Enter login\"},domProps:{\"value\":(_vm.login)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.login=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.performAuth}},[_vm._v(\"Submit\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"d-flex justify-content-center align-items-center container\" style=\"height: 80vh;\">\n        <div class=\"col-md-6 align-self-center\">\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <h5 class=\"card-title\">Enter Login and Password</h5>\n                    <div class=\"form-group\">\n                        <input type=\"text\" class=\"form-control\" id=\"login\" placeholder=\"Enter login\" v-model=\"login\">\n                    </div>\n                    <div class=\"form-group\">\n                        <input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Password\"\n                               v-model=\"password\">\n                    </div>\n                    <button v-on:click=\"performAuth\" class=\"btn btn-primary\">Submit</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"LoginView\",\n        data: function () {\n            return {\n                login: \"\",\n                password: \"\"\n            }\n        },\n        methods: {\n            performAuth() {\n                if (this.login.length > 0 && this.password.length > 0) {\n                    this.$emit(\"authenticated\", btoa(this.login + \":\" + this.password));\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=5f2baca5&scoped=true&\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f2baca5\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div id=\"app\">\n        <LoginView v-if=\"authToken === false\" v-on:authenticated=\"authToken = $event\"></LoginView>\n        <router-view v-else v-on:error=\"authToken = false\"/>\n    </div>\n</template>\n\n<script>\n    import 'bootstrap/dist/css/bootstrap.min.css'\n\n    import Vue from 'vue'\n\n    import LoginView from \"./components/LoginView\";\n\n    export default {\n        name: \"App\",\n        components: {LoginView},\n        data: function () {\n            return {\n                authenticated: false,\n                authToken: false\n            }\n        },\n        mounted: function () {\n            if (localStorage.authToken) {\n                this.authToken = localStorage.authToken;\n            }\n        },\n        watch: {\n            authToken(value) {\n                localStorage.authToken = value;\n                Vue.http.headers.common[\"Authorization\"] = \"Basic \" + value;\n            }\n        }\n    }\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=69fa62fa&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69fa62fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"map\",staticClass:\"map\"}),_c('div',{staticClass:\"control-panel card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showGridCoordinates),expression:\"showGridCoordinates\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"id\":\"check-grid-coords\"},domProps:{\"checked\":Array.isArray(_vm.showGridCoordinates)?_vm._i(_vm.showGridCoordinates,null)>-1:(_vm.showGridCoordinates)},on:{\"change\":function($event){var $$a=_vm.showGridCoordinates,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showGridCoordinates=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showGridCoordinates=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showGridCoordinates=$$c}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"check-grid-coords\"}},[_vm._v(\"Show grid coordinates\")])]),_c('button',{staticClass:\"btn btn-secondary\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.zoomOut}},[_vm._v(\"Zoom\\n                    out\\n                \")])]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Jump to Quest Giver\")]),_c('model-select',{attrs:{\"options\":_vm.questGivers,\"placeholder\":\"Select Quest Giver\"},model:{value:(_vm.selectedMarker),callback:function ($$v) {_vm.selectedMarker=$$v},expression:\"selectedMarker\"}})],1),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Jump to Player\")]),_c('model-select',{attrs:{\"options\":_vm.players,\"placeholder\":\"Select Player\"},model:{value:(_vm.zz),callback:function ($$v) {_vm.zz=$$v},expression:\"zz\"}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import L, {Bounds, LatLng, Point} from \"leaflet\"\nimport {getTileUrl} from \"../main\";\n\nexport const TileSize = 100;\nexport const HnHMaxZoom = 6;\nexport const HnHMinZoom = 1;\n\nexport const CustomGridLayer = L.GridLayer.extend({\n    displayGridCoordinates: false,\n\n    createTile: function (coords) {\n        let element = document.createElement(\"div\");\n        element.width = TileSize;\n        element.height = TileSize;\n        element.classList.add(\"map-tile\");\n\n        let scaleFactor = Math.pow(2, HnHMaxZoom - coords.z);\n        let topLeft = {x: coords.x * scaleFactor, y: coords.y * scaleFactor};\n        let bottomRight = {x: topLeft.x + scaleFactor - 1, y: topLeft.y + scaleFactor - 1};\n\n        // Async image loading\n        let imageElement = document.createElement(\"img\");\n        imageElement.width = imageElement.height = TileSize - 1;  // Compensate border\n        imageElement.style.display = \"none\";                      // Hide until loaded\n        imageElement.id = `grid_${coords.x}_${coords.y}`;\n        element.appendChild(imageElement);\n\n        let asyncImage = new Image();\n        asyncImage.onload = () => {\n            imageElement.src = asyncImage.src;\n            imageElement.style.display = \"block\";\n            imageElement.classList.remove(\"load-error\");\n        };\n        asyncImage.onerror = () => {\n            imageElement.classList.add(\"load-error\");\n        };\n        asyncImage.src = getTileUrl(topLeft.x, topLeft.y, coords.z);\n\n        let text = `(${topLeft.x};${topLeft.y})`;\n        if (scaleFactor !== 1) {\n            text += `<br>(${bottomRight.x};${bottomRight.y})`;\n        }\n\n        let textElement = document.createElement(\"div\");\n        textElement.classList.add(\"map-tile-text\");\n        textElement.innerHTML = text;\n        textElement.style.display = this.displayGridCoordinates ? \"block\" : \"none\";\n        element.appendChild(textElement);\n        return element;\n    },\n\n    showGridCoordinates(value) {\n        this.displayGridCoordinates = value;\n\n        // Update existing\n        let display = value ? \"block\" : \"none\";\n        document.querySelectorAll(\".map-tile-text\").forEach(it => it.style.display = display);\n    },\n\n    reloadTilesAround(gcList) {\n        let gridsToReload = {};\n        gcList.forEach(gc => {\n            for (let i = -1; i <= 1; i++) {\n                for (let j = -1; j <= 1; j++) {\n                    let tmp = {x: gc.x + i, y: gc.y + j};\n                    gridsToReload[`${tmp.x}_${tmp.y}`] = tmp;\n                }\n            }\n        });\n        Object.values(gridsToReload)\n            .forEach(gc => {\n                let imageElement = document.getElementById(`grid_${gc.x}_${gc.y}`);\n                if (imageElement && imageElement.classList.contains(\"load-error\")) {\n                    let asyncImage = new Image();\n                    asyncImage.onload = () => {\n                        imageElement.src = asyncImage.src;\n                        imageElement.style.display = \"block\";\n                        imageElement.classList.remove(\"load-error\");\n                    };\n                    asyncImage.src = getTileUrl(gc.x, gc.y, HnHMaxZoom);\n                }\n            });\n    }\n});\n\nexport const ImageIcon = L.Icon.extend({\n    options: {\n        iconSize: [32, 32],\n        iconAnchor: [16, 16],\n    }\n});\n\nconst latNormalization = 90.0 * TileSize / 2500000.0;\nconst lngNormalization = 180.0 * TileSize / 2500000.0;\n\nconst HnHProjection = {\n    project: function (latlng) {\n        return new Point(latlng.lat / latNormalization, latlng.lng / lngNormalization);\n    },\n\n    unproject: function (point) {\n        return new LatLng(point.x * latNormalization, point.y * lngNormalization);\n    },\n\n    bounds: (function () {\n        return new Bounds([-latNormalization, -lngNormalization], [latNormalization, lngNormalization]);\n    })()\n};\n\nexport const HnHCRS = L.extend({}, L.CRS.Simple, {\n    projection: HnHProjection\n});","import {HnHMaxZoom, ImageIcon} from \"../utils/LeafletCustomTypes\";\nimport * as L from \"leaflet\";\n\nfunction detectType(name) {\n    if (name === \"gfx/invobjs/small/bush\" || name === \"gfx/invobjs/small/bumling\") return \"quest\";\n    if (name === \"custom\") return \"custom\";\n    return name.substring(\"gfx/terobjs/mm/\".length);\n}\n\nexport class Marker {\n    constructor(markerData) {\n        this.id = markerData.id;\n        this.position = markerData.position;\n        this.name = markerData.name;\n        this.image = markerData.image;\n        this.type = detectType(this.image);\n        this.marker = false;\n        this.text = this.name;\n        this.value = this.id;\n    }\n\n    remove(map) {\n        if (this.marker) {\n            map.removeLayer(this.marker);\n        }\n    }\n\n    add(map) {\n        let icon = new ImageIcon({iconUrl: `/${this.image}.png`});\n        let position = map.unproject([this.position.x, this.position.y], HnHMaxZoom);\n        this.marker = L.marker(position, {icon: icon, title: this.name});\n        this.marker.addTo(map)\n    }\n\n    jumpTo(map) {\n        if (this.marker) {\n            let position = map.unproject([this.position.x, this.position.y], HnHMaxZoom);\n            this.marker.setLatLng(position);\n        }\n    }\n\n    setClickCallback(callback) {\n        if (this.marker) {\n            this.marker.on(\"click\", callback);\n        }\n    }\n}","/**\n * Elements should have unique field \"id\"\n */\nexport class UniqueList {\n    constructor() {\n        this.elements = {};\n    }\n\n    update(dataList, addCallback, removeCallback, updateCallback) {\n        let elementsToAdd = dataList\n            .filter(it => this.elements[it.id] === undefined);\n        let elementsToRemove = Object.keys(this.elements)\n            .filter(it => dataList.find(up => (\"\" + up.id) === it) === undefined)\n            .map(id => this.elements[id]);\n        if (removeCallback) {\n            elementsToRemove.forEach(it => removeCallback(it))\n        }\n        if (updateCallback) {\n            dataList\n                .forEach(newElement => {\n                    let oldElement = this.elements[newElement.id];\n                    if (oldElement) {\n                        updateCallback(oldElement, newElement)\n                    }\n                });\n        }\n        if (addCallback) {\n            elementsToAdd.forEach(it => addCallback(it));\n        }\n        elementsToRemove.forEach(it => delete this.elements[it.id]);\n        elementsToAdd.forEach(it => this.elements[it.id] = it);\n    }\n\n    getElements() {\n        return Object.values(this.elements);\n    }\n\n    byId(id) {\n        return this.elements[id];\n    }\n}","import {HnHMaxZoom} from \"../utils/LeafletCustomTypes\";\nimport * as L from \"leaflet\";\n\nexport class Character {\n    constructor(characterData) {\n        this.name = characterData.name;\n        this.position = characterData.position;\n        this.type = characterData.type;\n        this.id = characterData.id;\n        this.marker = false;\n        this.text = this.name;\n        this.value = this.id;\n    }\n\n    getId() {\n        return `${this.name}`;\n    }\n\n    remove(map) {\n        if (this.marker) {\n            map.removeLayer(this.marker);\n        }\n    }\n\n    add(map) {\n        let position = map.unproject([this.position.x, this.position.y], HnHMaxZoom);\n        this.marker = L.marker(position, {title: this.name});\n        this.marker.addTo(map)\n    }\n\n    update(map, updated) {\n        if (this.marker) {\n            let position = map.unproject([updated.position.x, updated.position.y], HnHMaxZoom);\n            this.marker.setLatLng(position);\n        }\n    }\n\n    setClickCallback(callback) {\n        if (this.marker) {\n            this.marker.on(\"click\", callback);\n        }\n    }\n}","<template>\n    <div>\n        <div ref=\"map\" class=\"map\"></div>\n        <div class=\"control-panel card\">\n            <div class=\"card-body\">\n                <div class=\"form-group\">\n                    <div class=\"form-check\">\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"check-grid-coords\"\n                               v-model=\"showGridCoordinates\">\n                        <label class=\"form-check-label\" for=\"check-grid-coords\">Show grid coordinates</label>\n                    </div>\n                    <button type=\"button\" class=\"btn btn-secondary\" style=\"margin-top: 10px;\" v-on:click=\"zoomOut\">Zoom\n                        out\n                    </button>\n                </div>\n                <div class=\"form-group\">\n                    <label>Jump to Quest Giver</label>\n                    <model-select :options=\"questGivers\" v-model=\"selectedMarker\"\n                                  placeholder=\"Select Quest Giver\"></model-select>\n                </div>\n                <div class=\"form-group\">\n                    <label>Jump to Player</label>\n                    <model-select :options=\"players\" v-model=\"zz\" placeholder=\"Select Player\"></model-select>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {ModelSelect} from 'vue-search-select'\n    import {CustomGridLayer, HnHCRS, HnHMaxZoom, HnHMinZoom, TileSize} from \"../utils/LeafletCustomTypes\";\n    import * as L from \"leaflet\";\n    import {API_ENDPOINT} from \"../main\";\n    import {Marker} from \"../data/Marker\";\n    import {UniqueList} from \"../data/UniqueList\";\n    import {Character} from \"../data/Character\";\n\n    export default {\n        name: \"MapView\",\n        components: {\n            ModelSelect\n        },\n        data: function () {\n            return {\n                showGridCoordinates: false,\n\n                trackingCharacterId: -1,\n                autoMode: false,\n                polling: null,\n                zz: false,\n                markersCache: [],\n                questGivers: [],\n                players: [],\n                selectedMarker: {value: false}\n            }\n        },\n        watch: {\n            showGridCoordinates(value) {\n                this.layer.showGridCoordinates(value);\n            },\n            trackingCharacterId(value) {\n                if (value !== -1) {\n                    let character = this.characters.byId(value);\n                    if (character) {\n                        this.map.setView(character.marker.getLatLng(), HnHMaxZoom);\n                        this.$router.push({path: `/character/${value}`});\n                        this.autoMode = true;\n                    } else {\n                        this.map.setView([0, 0], HnHMinZoom);\n                        this.$router.replace({path: `/grid/0/0/${HnHMinZoom}`});\n                        this.trackingCharacterId = -1;\n                    }\n                }\n            },\n            selectedMarker(value) {\n                if (value) {\n                    this.map.setView(value.marker.getLatLng(), this.map.getZoom());\n                }\n            }\n        },\n        mounted() {\n            this.$http.get(`${API_ENDPOINT}/v1/characters`).then(response => {\n                this.setupMap(response.body);\n            }, () => this.$emit(\"error\"));\n        },\n        beforeDestroy: function () {\n            clearInterval(this.intervalId)\n        },\n        methods: {\n            setupMap(characters) {\n                // Create map and layer\n                this.map = L.map(this.$refs.map, {\n                    // Map setup\n                    minZoom: HnHMinZoom,\n                    maxZoom: HnHMaxZoom,\n                    crs: HnHCRS,\n\n                    // Disable all visuals\n                    attributionControl: false,\n                    inertia: false,\n                    zoomAnimation: false,\n                    fadeAnimation: false,\n                    markerZoomAnimation: false\n                });\n\n                // Update url on manual drag, zoom\n                this.map.on(\"drag\", () => {\n                    let point = this.map.project(this.map.getCenter(), this.map.getZoom());\n                    let coordinate = {x: ~~(point.x / TileSize), y: ~~(point.y / TileSize), z: this.map.getZoom()};\n                    this.$router.replace({path: `/grid/${coordinate.x}/${coordinate.y}/${coordinate.z}`});\n                    this.trackingCharacterId = -1;\n                });\n                this.map.on(\"zoom\", () => {\n                    if (this.autoMode) {\n                        this.autoMode = false;\n                    } else {\n                        let point = this.map.project(this.map.getCenter(), this.map.getZoom());\n                        let coordinate = {x: ~~(point.x / TileSize), y: ~~(point.y / TileSize), z: this.map.getZoom()};\n                        this.$router.replace({path: `/grid/${coordinate.x}/${coordinate.y}/${coordinate.z}`});\n                        this.trackingCharacterId = -1;\n                    }\n                });\n\n                this.layer = new CustomGridLayer({tileSize: TileSize});\n                this.layer.addTo(this.map);\n\n                this.markers = new UniqueList();\n                this.characters = new UniqueList();\n\n                // Create markers\n                this.updateCharacters(characters);\n\n                // Check parameters\n                if (this.$route.params.characterId) { // Navigate to character\n                    this.trackingCharacterId = +this.$route.params.characterId;\n                } else if (this.$route.params.gridX && this.$route.params.gridY && this.$route.params.zoom) { // Navigate to specific grid\n                    let latLng = this.toLatLng(this.$route.params.gridX * 100, this.$route.params.gridY * 100);\n                    this.map.setView(latLng, this.$route.params.zoom);\n                } else { // Just show a map\n                    this.map.setView([0, 0], HnHMinZoom);\n                }\n\n                this.intervalId = setInterval(() => {\n                    this.$http.get(`${API_ENDPOINT}/v1/characters`).then(response => {\n                        this.updateCharacters(response.body);\n                    }, () => {\n                        clearInterval(this.intervalId);\n                        this.$emit(\"error\")\n                    });\n                }, 2000);\n                // Request markers\n                this.$http.get(`${API_ENDPOINT}/v1/markers`).then(response => {\n                    this.updateMarkers(response.body);\n                }, () => {\n                    this.$emit(\"error\")\n                });\n            },\n            updateMarkers(markersData) {\n                this.markers.update(markersData.map(it => new Marker(it)),\n                    (marker) => { // Add\n                        marker.add(this.map);\n                        marker.setClickCallback(() => {\n                            this.map.setView(marker.marker.getLatLng(), HnHMaxZoom);\n                        });\n                    },\n                    (marker) => { // Remove\n                        marker.remove(this.map);\n                    });\n                this.markersCache.length = 0;\n                this.markers.getElements().forEach(it => this.markersCache.push(it));\n\n                this.questGivers.length = 0;\n                this.markersCache.filter(it => it.type === \"quest\").forEach(it => this.questGivers.push(it));\n            },\n            updateCharacters(charactersData) {\n                this.characters.update(charactersData.map(it => new Character(it)),\n                    (character) => { // Add\n                        character.add(this.map);\n                        character.setClickCallback(() => { // Zoom to character on marker click\n                            this.trackingCharacterId = character.id;\n                        });\n                    },\n                    (character) => { // Remove\n                        character.remove(this.map);\n                    },\n                    (character, updated) => { // Update\n                        character.update(this.map, updated);\n                        if (this.trackingCharacterId == updated.id) {\n                            this.map.setView(character.marker.getLatLng(), HnHMaxZoom);\n                        }\n                    }\n                );\n                this.players.length = 0;\n                this.characters.getElements().forEach(it => this.players.push(it));\n            },\n            toLatLng(x, y) {\n                return this.map.unproject([x, y], HnHMaxZoom);\n            },\n            zoomOut() {\n                this.trackingCharacterId = -1;\n                this.map.setView([0, 0], HnHMinZoom);\n            }\n        }\n    }\n</script>\n\n<style>\n    .map {\n        height: 100vh;\n    }\n\n    .leaflet-container {\n        background: #000;\n    }\n\n    .map-tile {\n        border-bottom: 1px solid #404040;\n        border-right: 1px solid #404040;\n        color: #404040;\n        font-size: 12px;\n    }\n\n    .map-tile-text {\n        position: absolute;\n        left: 2px;\n        top: 2px;\n    }\n\n    .control-panel {\n        position: absolute;\n        top: 10%;\n        left: 10px;\n        z-index: 502;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapView.vue?vue&type=template&id=ad3b1f94&\"\nimport script from \"./MapView.vue?vue&type=script&lang=js&\"\nexport * from \"./MapView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport MapView from \"./components/MapView\";\n\nVue.use(Router);\n\nexport default new Router({\n    routes: [\n        {path: '/', component: MapView},\n        {path: '/character/:characterId', component: MapView},\n        {path: '/grid/:gridX/:gridY/:zoom', component: MapView}\n    ]\n})\n","export const MAP_ENDPOINT = 'https://hnh-map.andyleap.dev';\n","import '@babel/polyfill'\n\nimport Vue from 'vue'\nimport App from './App.vue'\nimport VueResource from \"vue-resource\"\nimport router from './router'\nimport {HnHMaxZoom} from \"./utils/LeafletCustomTypes\";\nimport {MAP_ENDPOINT} from \"./config\";\n\n\nexport const API_ENDPOINT = `${MAP_ENDPOINT}/api`;\nexport const TILE_ENDPOINT = `${MAP_ENDPOINT}`;\n\nexport function getTileUrl(x, y, zoom) {\n    return `${TILE_ENDPOINT}/grids/${HnHMaxZoom - zoom}/${x}_${y}.png`\n}\n\nVue.config.productionTip = false;\n\nVue.use(VueResource);\n\nnew Vue({\n    router,\n    render: h => h(App)\n}).$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapView.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapView.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}